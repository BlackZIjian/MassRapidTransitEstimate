#需求分析报告
##引言
###编写目的
此文档面向开发者，通过对目标需求的描述，使开发者明确项目开发的要求及目的，明确程序从输入数据到输出数据的过程。
###背景及范围
在产品与开发人员沟通后，开发人员对软件需求并不明确。主要原因在于程序开发人员对交通运输以及城乡规划建设方向的知识点不了解，导致专业术语不明，本文档不包括程序内部沟通需求，内容为将专业需求翻译为程序需求。
##任务概述
###目标
软件用于采集轨交站点周围附近地块数据后自动分析结果并进行可视化的软件。分为数据导入、土地块微元切割与迭代计算、分析可视化显示三个模块

####数据导入
从百度地图导入给定区域地块的地理数据，以及搜集问卷调查居民反映的数据。数据输入格式为XML，要求文件输入，从WEB服务获取数据和数据输入要求异步进行确保程序运行的效率及流畅度。测试时可免费使用百度服务，投入运营后需百度授权。问卷数据搜集后如果基数不够可采用一定的模糊处理。
####微元切割与迭代运算
数据读入后，根据以下函数模型求出最大结果：

+ 最大化紧凑型目标函数![](/)

+ 最大化多样性目标函数![](/)

+ 最大化商业可达性目标函数![](/)

+ 相邻开发相容性目标函数![](/)

其中参数说明：

+ i：土地单元编号，表示单元所处行。

+ j	 ：土地单元编号，表示单元所处列。

+ k	 ：土地使用类型。

+ x	 ：决策变量，哑元变量，如果在单元 处为 种土地使用类型则为1，否则为0。（使用二进制为土地编码，保证了遗传算法的实现）

+ t	 ：决策变量，单元 处为 种土地使用类型的开发密度，如果为住宅，单位为户数/每单元；如果为商业、办公，单位为建筑面积/每单元。

+ A	 ：单位u周围土地使用的紧凑程度，以该单元周边开发的单元数量作为衡量标准，即表示同等面积内，开发的项目越多，该地区就越紧凑，反之越松散。

+ D	 ：单元u与车站之间的直线距离。

+ S	 ：k类型单元 吸引的出行总量（商业、办公类）。

+ C	 ：两种临近开发的冲突程度。

+ P	 ：经济类住房所占比例的上限和下限。

+ Q	 ：住宅类和商业办公类的总开发量限制。

+ M	 ：混合使用程度的最大限制。

+ q	 ：每个单元住宅类和商业办公类的开发密度限制。

+ a	 ：公共设施在总开发中所占的比例系数。

限制条件为：

+ 总量限制![](/)

+ 开发强度限制![](/)

+ 土地混合使用程度限制![](/)

+ 政策性住房比例限制![](/)

+ 公共设施最低要求![](/)

####数据显示
须将分析得出的最优结果采用可视化的方式显示出来，显示方式为用12种颜色区分12种地块，并结合色深代表热点程度，做成如下图所示的热点图一张：

![](/)

##具体需求分析
###系统流程图
####数据流图

![](/)

####遗传算法流程图

![](/)

####数据字典

#####单元块表
posx 横坐标 int 0<posx<36

posy 纵坐标 int 0<posy<36

type 土地类型 int 0~12

square 区块面积 double >0

x 决策土地类型 int 0~12

y 决策建设密度 double 

#####土地数据
这个地方看百度WEBAPI再写

#####居民调查数据表
id int 居民编号

posx int 居民居住地块横坐标

posy int 居民居住地块纵坐标

##支持信息
###运行环境
Windows 10 x86 63位

MacOS

###支持软件
Matlab
	
	MATLAB[1]  是美国MathWorks公司出品的商业数学软件，用于算法开发、数据可视化、数据分析以及数值计算的高级技术计算语言和交互式环境，主要包括MATLAB
	和Simulink两大部分。具有如下四个优势特点
	1) 高效的数值计算及符号计算功能，能使用户从繁杂的数学运算分析中解脱出来；
	2) 具有完备的图形处理功能，实现计算结果和编程的可视化；
	3) 友好的用户界面及接近数学表达式的自然化语言，使学者易于学习和掌握；
	4) 功能丰富的应用工具箱(如信号处理工具箱、通信工具箱等) ，为用户提供了大量方便实用的处理工具。

	MATLAB由一系列工具组成。这些工具方便用户使用MATLAB的函数和文件，其中许多工具采用的是图形用户界面。包括MATLAB桌面和命令窗口、历史命令窗口
	、编辑器和调试器、路径搜索和用于用户浏览帮助、工作空间、文件的浏览器。随着MATLAB的商业化以及软件本身的不断升级，MATLAB的用户界面也越来越精致，
	更加接近Windows的标准界面，人机交互性更强，操作更简单。而且新版本的MATLAB提	供了完整的联机查询、帮助系统，极大的方便了用户的使用。简单的编程环境
	提供了比较完备的调试	系统，程序不必经过编译就可以直接运行，而且能够及时地报告出现的错误及进行出错原因分析。
	MATLAB对许多专门的领域都开发了功能强大的模块集和工具箱。一般来说，它们都是由特定领域的专家开发的，用户可以直接使用工具箱学习、应用和评估不同的方法
	而不需要自己编写代码。领域，诸如数据采集、数据库接口、概率统计、样条拟合、优化算法、偏微分方程求解、神经网络、小波分析、信号处理、图像处理、
	系统辨识、控制系统设计、LMI控制、鲁棒控制、模型预测、模糊逻辑、金融分析、地图工具、非线性控制设计、实时快速原型及半物理仿真、嵌入式系统开发、定点
	仿真、DSP与通讯、电力系统仿真等，都在工具箱（Toolbox）家族中有了自己的一席之地。
	新版本的MATLAB可以利用MATLAB编译器和C/C++数学库和图形库，将自己的MATLAB程序自动转换为独立于MATLAB运行的C和C++代码。允许用户编写可以和MATLAB
	进行交互的C或C++语言程序。另外，MATLAB网页服务程序还容许在Web应用中使用自己的MATLAB数学和图形程序。MATLAB的一个重要特色就是具有一套程序扩展系统
	和一组称之为工具箱的特殊应用子程序。工具箱是MATLAB函数的子程序库，每一个工具箱都是为某一类学科专业和应用而定制的，主要包括信号处理、控制系统、神经网络
	、模糊逻辑、小波分析和系统仿真等方面的应用。


ARCGIS地理信息系统软件

	ArcGIS Online是Esri建设的公有云平台，也是第一个云GIS平台。它基于亚马逊的AWS和微软的Windows Azure搭建而成，为用户提供了一个基于云的、完整的协作式
	地理信息内容管理与分享的工作平台。它与ArcGIS其他的产品无缝集成，让用户能够通过各种端，包括：Web端、桌面端、移动端，来组织、访问和分享ArcGIS Online
	中的GIS资源服务。
	ArcGIS Online的功能包括：

    提供丰富的在线底图资源
    在线Web制图
    企业级账户管理功能
    服务托管能力
    与Office办公软件集成
	
	被广泛用于政府决策制图中

##需求分析总结
本产品目标用于开发辅助决策工具，而针对程序需求来讲，主要在于明确数据输入、数据处理、数据输出三方面。数据输入格式为11 * 12 * 9 组元数据，处理按照文档中的函数处理，输出图形化显示数据。


